#!/usr/local/bin/koios
#   koios-polos (axis of heaven) unit testing meta-language



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
PREP          include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include public header                yPARSE.h                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include private header               yPARSE_priv.h               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (COMBO) verify detailed level reading (pop) and writing (push)     0s   push_pop                                                                                     ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the global data                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     local    create a string variable             - - - - - - - - - - - - -   char    x_str  [LEN_RECD];                                                                                                                                                                                                 

   GROUP      create and write a record                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       open the file                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     simple init                          yPARSE_planned              NULL                     , "/tmp/yPARSE_test.txt" , NULL                                              i_equal     0                                                                                                    

   COND       check initial conditions                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ...check verb                        yparse__unit_out            "verb"         , 0                                                                                    s_equal     OUT verb         : -1[]                                                                              
     get      ...check fields                      yparse__unit_out            "field"        , 0                                                                                    s_equal     OUT field        : total  0, curr  0, good -                                                         
     get      ...entry 0                           yparse__unit_out            "entry"        , 0                                                                                    s_equal     OUT entry   ( 0) : null                                                                              
     get      ...entry 1                           yparse__unit_out            "entry"        , 1                                                                                    s_equal     OUT entry   ( 1) : null                                                                              
     get      ...entry 2                           yparse__unit_out            "entry"        , 2                                                                                    s_equal     OUT entry   ( 2) : null                                                                              
     get      ...entry 3                           yparse__unit_out            "entry"        , 3                                                                                    s_equal     OUT entry   ( 3) : null                                                                              
     get      ...entry 4                           yparse__unit_out            "entry"        , 4                                                                                    s_equal     OUT entry   ( 4) : null                                                                              
     get      ...entry 5                           yparse__unit_out            "entry"        , 5                                                                                    s_equal     OUT entry   ( 5) : null                                                                              
     get      ...full record                       yparse__unit_out            "record"       , 0                                                                                    s_equal     OUT record       :  0[]                                                                              

   COND       add a handler                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call handler addition                yPARSE_handler              "macro"     , "ciTfS-------", NULL                                                                    i_equal     0                                                                                                    
     get      ...entry macro                       yparse__unit_verb           "by_name"        , "macro"           , 0                                                              s_equal     VERB name   ( 0) : -, macro        [ciTfS       ] -r -w 0.0s -1m [                    ] [          ] 

   COND       start with the verb                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     clear everything                     yPARSE_purge_out                                                                                                                  i_equal     0                                                                                                    
     exec     push a verb                          yPARSE_pushverb             "macro"                                                                                               i_equal     0                                                                                                    

   COND       add fields                                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     push a character                     yPARSE_pushchar             65                                                                                                    i_equal     0                                                                                                    
     exec     push a integer                       yPARSE_pushint              32726                                                                                                 i_equal     0                                                                                                    
     exec     push a terse string                  yPARSE_pushstr              "jub jub"                                                                                             i_equal     0                                                                                                    
     exec     push a float                         yPARSE_pushfloat            3.1415927                                                                                             i_equal     0                                                                                                    
     exec     push a string                        yPARSE_pushstr              "hey"                                                                                                 i_equal     0                                                                                                    

   COND       check results                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ...check verb                        yparse__unit_out            "verb"         , 0                                                                                    s_equal     OUT verb         :  0[macro]                                                                         
     get      ...check fields                      yparse__unit_out            "field"        , 0                                                                                    s_equal     OUT field        : total  6, curr  0, good y                                                         
     get      ...entry 0                           yparse__unit_out            "entry"        , 0                                                                                    s_equal     OUT entry   ( 0) : 12[macro       ]                                                                  
     get      ...entry 1                           yparse__unit_out            "entry"        , 1                                                                                    s_equal     OUT entry   ( 1) :  1[A]                                                                             
     get      ...entry 2                           yparse__unit_out            "entry"        , 2                                                                                    s_equal     OUT entry   ( 2) :  6[ 32726]                                                                        
     get      ...entry 3                           yparse__unit_out            "entry"        , 3                                                                                    s_equal     OUT entry   ( 3) : 10[jub²jub   ]                                                                    
     get      ...entry 4                           yparse__unit_out            "entry"        , 4                                                                                    s_equal     OUT entry   ( 4) :  8[    3.14]                                                                      
     get      ...entry 5                           yparse__unit_out            "entry"        , 5                                                                                    s_equal     OUT entry   ( 5) :  5[hey  ]                                                                         
     get      ...full record                       yparse__unit_out            "record"       , 0                                                                                    s_equal     OUT record       :  0[]                                                                              

   COND       write the record                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call writing                         yPARSE_write                NULL, NULL                                                                                            i_equal     0                                                                                                    

   COND       check results                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ...check verb                        yparse__unit_out            "verb"         , 0                                                                                    s_equal     OUT verb         :  0[macro]                                                                         
     get      ...check fields                      yparse__unit_out            "field"        , 0                                                                                    s_equal     OUT field        : total  6, curr  6, good W                                                         
     get      ...entry 0                           yparse__unit_out            "entry"        , 0                                                                                    s_equal     OUT entry   ( 0) : null                                                                              
     get      ...entry 1                           yparse__unit_out            "entry"        , 1                                                                                    s_equal     OUT entry   ( 1) : null                                                                              
     get      ...entry 2                           yparse__unit_out            "entry"        , 2                                                                                    s_equal     OUT entry   ( 2) : null                                                                              
     get      ...entry 3                           yparse__unit_out            "entry"        , 3                                                                                    s_equal     OUT entry   ( 3) : null                                                                              
     get      ...entry 4                           yparse__unit_out            "entry"        , 4                                                                                    s_equal     OUT entry   ( 4) : null                                                                              
     get      ...entry 5                           yparse__unit_out            "entry"        , 5                                                                                    s_equal     OUT entry   ( 5) : null                                                                              
     get      ...full record                       yparse__unit_out            "record"       , 0                                                                                    s_equal     OUT record       : 60[macro        § A §  32726 § jub²jub    §     3.14 § hey   § ]                  

   GROUP      read that same record                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       open the file                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     close output                         yPARSE_close                                                                                                                      i_equal     0                                                                                                    
     exec     simple init                          yPARSE_planned              "/tmp/yPARSE_test.txt"   , NULL                 , NULL                                                i_equal     0                                                                                                    
     exec     call handler addition                yPARSE_handler              "macro"     , "ciTfS-------", NULL                                                                    i_equal     0                                                                                                    

   COND       check parsing queue                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ...check queue stats                 yparse__unit_in             "field"        , 0                                                                                    s_equal     IN  field        : total  0, curr  0, good -                                                         
     get      ...check verb                        yparse__unit_in             "verb"         , 0                                                                                    s_equal     IN  verb         : -1[]                                                                              
     get      ...entry 0                           yparse__unit_in             "entry"        , 0                                                                                    s_equal     IN  entry   ( 0) : null                                                                              
     get      ...entry 1                           yparse__unit_in             "entry"        , 1                                                                                    s_equal     IN  entry   ( 1) : null                                                                              
     get      ...entry 2                           yparse__unit_in             "entry"        , 2                                                                                    s_equal     IN  entry   ( 2) : null                                                                              
     get      ...entry 3                           yparse__unit_in             "entry"        , 3                                                                                    s_equal     IN  entry   ( 3) : null                                                                              
     get      ...entry 4                           yparse__unit_in             "entry"        , 4                                                                                    s_equal     IN  entry   ( 4) : null                                                                              
     get      ...entry 5                           yparse__unit_in             "entry"        , 5                                                                                    s_equal     IN  entry   ( 5) : null                                                                              
     get      ...entry 6                           yparse__unit_in             "entry"        , 6                                                                                    s_equal     IN  entry   ( 6) : null                                                                              
     get      ...entry 7                           yparse__unit_in             "entry"        , 7                                                                                    s_equal     IN  entry   ( 7) : null                                                                              

   COND       load a new line                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.012))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     read the record                      yPARSE_read_one             NULL, NULL                                                                                            i_equal     6                                                                                                    

   COND       check parsing queue                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.013))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ...check queue stats                 yparse__unit_in             "field"        , 0                                                                                    s_equal     IN  field        : total  6, curr  1, good y                                                         
     get      ...check verb                        yparse__unit_in             "verb"         , 0                                                                                    s_equal     IN  verb         :  0[macro]                                                                         
     get      ...entry 0                           yparse__unit_in             "entry"        , 0                                                                                    s_equal     IN  entry   ( 0) : null                                                                              
     get      ...entry 1                           yparse__unit_in             "entry"        , 1                                                                                    s_equal     IN  entry   ( 1) :  1[A]                                                                             
     get      ...entry 2                           yparse__unit_in             "entry"        , 2                                                                                    s_equal     IN  entry   ( 2) :  5[32726]                                                                         
     get      ...entry 3                           yparse__unit_in             "entry"        , 3                                                                                    s_equal     IN  entry   ( 3) :  7[jub jub]                                                                       
     get      ...entry 4                           yparse__unit_in             "entry"        , 4                                                                                    s_equal     IN  entry   ( 4) :  4[3.14]                                                                          
     get      ...entry 5                           yparse__unit_in             "entry"        , 5                                                                                    s_equal     IN  entry   ( 5) :  3[hey]                                                                           
     get      ...entry 6                           yparse__unit_in             "entry"        , 6                                                                                    s_equal     IN  entry   ( 6) : null                                                                              
     get      ...entry 7                           yparse__unit_in             "entry"        , 7                                                                                    s_equal     IN  entry   ( 7) : null                                                                              

   COND       close the file                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.014))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     close input                          yPARSE_close                                                                                                                      i_equal     0                                                                                                    

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.015))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     stop testing                         yparse__unit_end                                                                                                                  i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (COMBO ) variadic interfaces                                       0s   variadic                                                                                     ((02.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the global data                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        yparse__unit_quiet                                                                                                                i_equal     0                                                                                                    
     exec     clear out mock                       yparse_mock__clear                                                                                                                i_equal     0                                                                                                    
     local    create a string variable             - - - - - - - - - - - - -   char    x_str  [LEN_RECD];                                                                                                                                                                                                 
     local    create a string variable             - - - - - - - - - - - - -   char    x_str2 [LEN_RECD];                                                                                                                                                                                                 
     local    create a character                   - - - - - - - - - - - - -   char    x_ch;                                                                                                                                                                                                              
     local    create a integer                     - - - - - - - - - - - - -   int     x_int;                                                                                                                                                                                                             
     local    create a float                       - - - - - - - - - - - - -   float   x_float;                                                                                                                                                                                                           

   COND       check saved lines                                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ...check queue stats                 yparse__unit_line           "stats"        , 0                                                                                    s_equal     LINE stats     : nline  0, cline  0, total  0                                                        
     get      ...entry 1                           yparse__unit_line           "entry"        , 1                                                                                    s_equal     LINE entry   1 : null                                                                                
     get      ...entry 2                           yparse__unit_line           "entry"        , 2                                                                                    s_equal     LINE entry   2 : null                                                                                
     get      ...entry 3                           yparse__unit_line           "entry"        , 3                                                                                    s_equal     LINE entry   3 : null                                                                                
     get      ...entry 4                           yparse__unit_line           "entry"        , 4                                                                                    s_equal     LINE entry   4 : null                                                                                
     get      ...entry 5                           yparse__unit_line           "entry"        , 5                                                                                    s_equal     LINE entry   5 : null                                                                                
     get      ...entry 6                           yparse__unit_line           "entry"        , 6                                                                                    s_equal     LINE entry   6 : null                                                                                
     get      ...entry 7                           yparse__unit_line           "entry"        , 7                                                                                    s_equal     LINE entry   7 : null                                                                                
     get      ...entry 8                           yparse__unit_line           "entry"        , 8                                                                                    s_equal     LINE entry   8 : null                                                                                

   GROUP      create and write a record                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       open the file                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     simple init                          yPARSE_planned              NULL                     , "/tmp/yPARSE_test.txt" , NULL                                              i_equal     0                                                                                                    

   COND       add a handler                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call handler addition                yPARSE_handler              "macro"     , "ciTfS-------", NULL                                                                    i_equal     0                                                                                                    
     get      ...entry macro                       yparse__unit_verb           "by_name"        , "macro"           , 0                                                              s_equal     VERB name   ( 0) : -, macro        [ciTfS       ] -r -w 0.0s -1m [                    ] [          ] 

   COND       prepare values                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     ...value char                        - - - - - - - - - - - - -   x_ch     = 65;                                                                                                                                                                                                             
     code     ...value int                         - - - - - - - - - - - - -   x_int    = 32726;                                                                                                                                                                                                          
     code     ...value float                       - - - - - - - - - - - - -   x_float  = 3.1415927;                                                                                                                                                                                                      
     code     ...value string                      - - - - - - - - - - - - -   strlcpy (x_str, "jub jub", LEN_LABEL);                                                                                                                                                                                     

   COND       variadic writing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call the fullwrite                   yPARSE_vprintf              -1, "macro"        , x_ch, x_int, x_str, x_float, "hey"                                               i_equal     0                                                                                                    

   COND       check results                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ...check verb                        yparse__unit_out            "verb"         , 0                                                                                    s_equal     OUT verb         :  0[macro]                                                                         
     get      ...check fields                      yparse__unit_out            "field"        , 0                                                                                    s_equal     OUT field        : total  6, curr  6, good W                                                         
     get      ...entry 0                           yparse__unit_out            "entry"        , 0                                                                                    s_equal     OUT entry   ( 0) : null                                                                              
     get      ...entry 1                           yparse__unit_out            "entry"        , 1                                                                                    s_equal     OUT entry   ( 1) : null                                                                              
     get      ...entry 2                           yparse__unit_out            "entry"        , 2                                                                                    s_equal     OUT entry   ( 2) : null                                                                              
     get      ...entry 3                           yparse__unit_out            "entry"        , 3                                                                                    s_equal     OUT entry   ( 3) : null                                                                              
     get      ...entry 4                           yparse__unit_out            "entry"        , 4                                                                                    s_equal     OUT entry   ( 4) : null                                                                              
     get      ...entry 5                           yparse__unit_out            "entry"        , 5                                                                                    s_equal     OUT entry   ( 5) : null                                                                              
     get      ...full record                       yparse__unit_out            "record"       , 0                                                                                    s_equal     OUT record       : 60[macro        § A §  32726 § jub²jub    §     3.14 § hey   § ]                  

   COND       close the file                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     close output                         yPARSE_close                                                                                                                      i_equal     0                                                                                                    

   GROUP      read that same record                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare values                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     ...value char                        - - - - - - - - - - - - -   x_ch     = -1;                                                                                                                                                                                                             
     code     ...value int                         - - - - - - - - - - - - -   x_int    = -1;                                                                                                                                                                                                             
     code     ...value float                       - - - - - - - - - - - - -   x_float  = -1.0;                                                                                                                                                                                                           
     code     ...value string                      - - - - - - - - - - - - -   strlcpy (x_str , "nada", LEN_LABEL);                                                                                                                                                                                       
     code     ...value string                      - - - - - - - - - - - - -   strlcpy (x_str2, "nada", LEN_LABEL);                                                                                                                                                                                       

   COND       open the file                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     simple init                          yPARSE_planned              "/tmp/yPARSE_test.txt"   , NULL             , NULL                                                    i_equal     0                                                                                                    

   COND       add a handler                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call handler addition                yPARSE_handler              "macro"     , "ciTfS-------", NULL                                                                    i_equal     0                                                                                                    
     get      ...entry macro                       yparse__unit_verb           "by_name"        , "macro"           , 0                                                              s_equal     VERB name   ( 0) : -, macro        [ciTfS       ] -r -w 0.0s -1m [                    ] [          ] 

   COND       variadic reading                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.012))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     read the record                      yPARSE_read_one             NULL, NULL                                                                                            i_equal     6                                                                                                    
     exec     read the record                      yPARSE_vscanf               "macro", &x_ch, &x_int, x_str, &x_float, x_str2                                                       i_equal     1                                                                                                    

   COND       check values in variables                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.013))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     echo     ...character                         - - - - - - - - - - - - -   x_ch                                                                                                  i_equal     65                                                                                                   
     echo     ...integer                           - - - - - - - - - - - - -   x_int                                                                                                 i_equal     32726                                                                                                
     echo     ...float                             - - - - - - - - - - - - -   x_float                                                                                               r_norm93    3.14                                                                                                 
     echo     ...string                            - - - - - - - - - - - - -   x_str                                                                                                 s_equal     jub jub                                                                                              
     echo     ...string                            - - - - - - - - - - - - -   x_str2                                                                                                s_equal     hey                                                                                                  

   COND       check parsing queue                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.014))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ...check queue stats                 yparse__unit_in             "field"        , 0                                                                                    s_equal     IN  field        : total  6, curr  6, good R                                                         
     get      ...check verb                        yparse__unit_in             "verb"         , 0                                                                                    s_equal     IN  verb         :  0[macro]                                                                         
     get      ...entry 0                           yparse__unit_in             "entry"        , 0                                                                                    s_equal     IN  entry   ( 0) : null                                                                              
     get      ...entry 1                           yparse__unit_in             "entry"        , 1                                                                                    s_equal     IN  entry   ( 1) : null                                                                              
     get      ...entry 2                           yparse__unit_in             "entry"        , 2                                                                                    s_equal     IN  entry   ( 2) : null                                                                              
     get      ...entry 3                           yparse__unit_in             "entry"        , 3                                                                                    s_equal     IN  entry   ( 3) : null                                                                              
     get      ...entry 4                           yparse__unit_in             "entry"        , 4                                                                                    s_equal     IN  entry   ( 4) : null                                                                              
     get      ...entry 5                           yparse__unit_in             "entry"        , 5                                                                                    s_equal     IN  entry   ( 5) : null                                                                              
     get      ...entry 6                           yparse__unit_in             "entry"        , 6                                                                                    s_equal     IN  entry   ( 6) : null                                                                              
     get      ...entry 7                           yparse__unit_in             "entry"        , 7                                                                                    s_equal     IN  entry   ( 7) : null                                                                              

   COND       close the file                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.015))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     close input                          yPARSE_close                                                                                                                      i_equal     0                                                                                                    

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.016))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     stop testing                         yparse__unit_end                                                                                                                  i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (COMBO ) main read and write interfaces                            0s   read_write                                                                                   ((03.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the global data                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        yparse__unit_quiet                                                                                                                i_equal     0                                                                                                    
     exec     clear out mock                       yparse_mock__clear                                                                                                                i_equal     0                                                                                                    

   COND       check mock records                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ...check count                       yparse_mock__unit           "count"        , 0                                                                                    s_equal     MOCK count     :  0                                                                                  
     get      ...check recd                        yparse_mock__unit           "recd"         , 0                                                                                    s_equal     MOCK recd    0 :  0[]                                                                                
     get      ...check recd                        yparse_mock__unit           "recd"         , 1                                                                                    s_equal     MOCK recd    1 :  0[]                                                                                
     get      ...check recd                        yparse_mock__unit           "recd"         , 2                                                                                    s_equal     MOCK recd    2 :  0[]                                                                                
     get      ...check recd                        yparse_mock__unit           "recd"         , 3                                                                                    s_equal     MOCK recd    3 :  0[]                                                                                
     get      ...check recd                        yparse_mock__unit           "recd"         , 4                                                                                    s_equal     MOCK recd    4 :  0[]                                                                                
     get      ...check recd                        yparse_mock__unit           "recd"         , 5                                                                                    s_equal     MOCK recd    5 :  0[]                                                                                

   COND       check mock details                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ...check count                       yparse_mock__unit           "count"        , 0                                                                                    s_equal     MOCK count     :  0                                                                                  
     get      ...check detail                      yparse_mock__unit           "detail"       , 0                                                                                    s_equal     MOCK detail  0 : ·    -1 -                       -1.10000 -                                          
     get      ...check detail                      yparse_mock__unit           "detail"       , 1                                                                                    s_equal     MOCK detail  1 : ·    -1 -                       -1.10000 -                                          
     get      ...check detail                      yparse_mock__unit           "detail"       , 2                                                                                    s_equal     MOCK detail  2 : ·    -1 -                       -1.10000 -                                          
     get      ...check detail                      yparse_mock__unit           "detail"       , 3                                                                                    s_equal     MOCK detail  3 : ·    -1 -                       -1.10000 -                                          
     get      ...check detail                      yparse_mock__unit           "detail"       , 4                                                                                    s_equal     MOCK detail  4 : ·    -1 -                       -1.10000 -                                          
     get      ...check detail                      yparse_mock__unit           "detail"       , 5                                                                                    s_equal     MOCK detail  5 : ·    -1 -                       -1.10000 -                                          

   COND       open the file                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     simple init                          yPARSE_planned              NULL                     , "/tmp/yPARSE_test.txt" , NULL                                              i_equal     0                                                                                                    

   COND       add a handler (with functions)                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call handler addition                yPARSE_handler_plus         "macro"     , "ciLfL-------", 0.0, yparse_mock__reader, yparse_mock__writer, NULL                     i_equal     0                                                                                                    

   COND       write output                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call writing all record type         yparse_mock__writer                                                                                                               i_equal     0                                                                                                    

   COND       check mock records                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ...check count                       yparse_mock__unit           "count"        , 0                                                                                    s_equal     MOCK count     :  3                                                                                  
     get      ...check recd                        yparse_mock__unit           "recd"         , 0                                                                                    s_equal     MOCK recd    0 : 85[macro        § A §  32726 § jub²jub              §     3.14 § hey                  § ] 
     get      ...check recd                        yparse_mock__unit           "recd"         , 1                                                                                    s_equal     MOCK recd    1 : 85[macro        § z §     12 § testing              §    14.46 § hey²back             § ] 
     get      ...check recd                        yparse_mock__unit           "recd"         , 2                                                                                    s_equal     MOCK recd    2 : 85[macro        § f §  -4922 § another²string       §   186.00 § hey²one²last         § ] 
     get      ...check recd                        yparse_mock__unit           "recd"         , 3                                                                                    s_equal     MOCK recd    3 :  0[]                                                                                
     get      ...check recd                        yparse_mock__unit           "recd"         , 4                                                                                    s_equal     MOCK recd    4 :  0[]                                                                                
     get      ...check recd                        yparse_mock__unit           "recd"         , 5                                                                                    s_equal     MOCK recd    5 :  0[]                                                                                

   COND       close file                                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     close output                         yPARSE_close                                                                                                                      i_equal     0                                                                                                    

   COND       erase mock data                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     clear out mock                       yparse_mock__clear                                                                                                                i_equal     0                                                                                                    

   COND       check mock records                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ...check count                       yparse_mock__unit           "count"        , 0                                                                                    s_equal     MOCK count     :  0                                                                                  
     get      ...check recd                        yparse_mock__unit           "recd"         , 0                                                                                    s_equal     MOCK recd    0 :  0[]                                                                                
     get      ...check recd                        yparse_mock__unit           "recd"         , 1                                                                                    s_equal     MOCK recd    1 :  0[]                                                                                
     get      ...check recd                        yparse_mock__unit           "recd"         , 2                                                                                    s_equal     MOCK recd    2 :  0[]                                                                                
     get      ...check recd                        yparse_mock__unit           "recd"         , 3                                                                                    s_equal     MOCK recd    3 :  0[]                                                                                
     get      ...check recd                        yparse_mock__unit           "recd"         , 4                                                                                    s_equal     MOCK recd    4 :  0[]                                                                                
     get      ...check recd                        yparse_mock__unit           "recd"         , 5                                                                                    s_equal     MOCK recd    5 :  0[]                                                                                

   COND       check mock details                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ...check count                       yparse_mock__unit           "count"        , 0                                                                                    s_equal     MOCK count     :  0                                                                                  
     get      ...check detail                      yparse_mock__unit           "detail"       , 0                                                                                    s_equal     MOCK detail  0 : ·    -1 -                       -1.10000 -                                          
     get      ...check detail                      yparse_mock__unit           "detail"       , 1                                                                                    s_equal     MOCK detail  1 : ·    -1 -                       -1.10000 -                                          
     get      ...check detail                      yparse_mock__unit           "detail"       , 2                                                                                    s_equal     MOCK detail  2 : ·    -1 -                       -1.10000 -                                          
     get      ...check detail                      yparse_mock__unit           "detail"       , 3                                                                                    s_equal     MOCK detail  3 : ·    -1 -                       -1.10000 -                                          
     get      ...check detail                      yparse_mock__unit           "detail"       , 4                                                                                    s_equal     MOCK detail  4 : ·    -1 -                       -1.10000 -                                          
     get      ...check detail                      yparse_mock__unit           "detail"       , 5                                                                                    s_equal     MOCK detail  5 : ·    -1 -                       -1.10000 -                                          

   COND       read input                                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.012))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     simple init                          yPARSE_planned              "/tmp/yPARSE_test.txt" , NULL               , NULL                                                    i_equal     0                                                                                                    
     exec     call handler addition                yPARSE_handler_plus         "macro"     , "ciLfL-------", 0.0, yparse_mock__reader, yparse_mock__writer, NULL                     i_equal     0                                                                                                    
     exec     call reading all                     yPARSE_read_all                                                                                                                   i_equal     3                                                                                                    

   COND       check mock records                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.013))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ...check count                       yparse_mock__unit           "count"        , 0                                                                                    s_equal     MOCK count     :  3                                                                                  
     get      ...check recd                        yparse_mock__unit           "recd"         , 0                                                                                    s_equal     MOCK recd    0 : 85[macro        § A §  32726 § jub²jub              §     3.14 § hey                  § ] 
     get      ...check recd                        yparse_mock__unit           "recd"         , 1                                                                                    s_equal     MOCK recd    1 : 85[macro        § z §     12 § testing              §    14.46 § hey²back             § ] 
     get      ...check recd                        yparse_mock__unit           "recd"         , 2                                                                                    s_equal     MOCK recd    2 : 85[macro        § f §  -4922 § another²string       §   186.00 § hey²one²last         § ] 
     get      ...check recd                        yparse_mock__unit           "recd"         , 3                                                                                    s_equal     MOCK recd    3 :  0[]                                                                                
     get      ...check recd                        yparse_mock__unit           "recd"         , 4                                                                                    s_equal     MOCK recd    4 :  0[]                                                                                
     get      ...check recd                        yparse_mock__unit           "recd"         , 5                                                                                    s_equal     MOCK recd    5 :  0[]                                                                                

   COND       check mock details                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.014))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ...check count                       yparse_mock__unit           "count"        , 0                                                                                    s_equal     MOCK count     :  3                                                                                  
     get      ...check detail                      yparse_mock__unit           "detail"       , 0                                                                                    s_equal     MOCK detail  0 : A 32726 jub jub                  3.14000 hey                                        
     get      ...check detail                      yparse_mock__unit           "detail"       , 1                                                                                    s_equal     MOCK detail  1 : z    12 testing                 14.46000 hey back                                   
     get      ...check detail                      yparse_mock__unit           "detail"       , 2                                                                                    s_equal     MOCK detail  2 : f -4922 another string         186.00000 hey one last                               
     get      ...check detail                      yparse_mock__unit           "detail"       , 3                                                                                    s_equal     MOCK detail  3 : ·    -1 -                       -1.10000 -                                          
     get      ...check detail                      yparse_mock__unit           "detail"       , 4                                                                                    s_equal     MOCK detail  4 : ·    -1 -                       -1.10000 -                                          
     get      ...check detail                      yparse_mock__unit           "detail"       , 5                                                                                    s_equal     MOCK detail  5 : ·    -1 -                       -1.10000 -                                          

   COND       close file                                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.015))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     close output                         yPARSE_close                                                                                                                      i_equal     0                                                                                                    

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.016))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     stop testing                         yparse__unit_end                                                                                                                  i_equal     0                                                                                                    



# end-of-file.  done, finito, completare, whimper [Ï´···
